<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>ECharts</title>
    <!-- 引入刚刚下载的 ECharts 文件 -->
    <script src="./echarts.js"></script>
  </head>
  <body>
  <div id="chart2013" style="width: 1000px; height: 600px; margin: 30px auto"></div>
  <div id="chart2018" style="width: 1000px; height: 600px; margin: 30px auto"></div>

  <script>
    // 2013年配置
    const chart2013 = echarts.init(document.getElementById('chart2013'));
    chart2013.setOption({
      title: {
        text: '2013年浙江省八大水系水质状况',
        left: 'center',
        textStyle: { fontSize: 18 }
      },
      tooltip: {
        trigger: 'axis',
        axisPointer: { type: 'shadow' },
        formatter: '{b}<br/>{a}: {c}%'
      },
      legend: {
        data: ['I类', 'II类', 'III类', 'IV类', 'V类', '劣V类'],
        bottom: 5
      },
      grid: { 
        top: 70, bottom: 80, left: 60, right: 30,
        containLabel: true 
      },
      xAxis: {
        type: 'category',
        data: ['钱塘江', '曹娥江', '甬江', '椒江', '瓯江', '飞云江', '鳌江', '苕溪', '京杭运河'],
        axisLabel: { interval: 0, rotate: 30 }
      },
      yAxis: {
        type: 'value',
        name: '比例(%)',
        max: 100,
        axisLabel: { formatter: '{value}%' }
      },
      series: [
        { 
          name: 'I类', 
          type: 'bar', 
          stack: 'total', 
          itemStyle: { color: '#006400' }, 
          data: [2.1,10.0,7.1,9.1,10.3,20.0,0,6.3,0],
          label: {
            show: true,
            position: 'inside',
            formatter: function(params) {
              return params.value > 0 ? params.value + '%' : '';
            },
            color: '#000',
            fontWeight: 'bold'
          }
        },
        { 
          name: 'II类', 
          type: 'bar', 
          stack: 'total', 
          itemStyle: { color: '#00FF00' }, 
          data: [31.9,20.0,7.1,45.5,62.1,80.0,25.0,25.0,0],
          label: {
            show: true,
            position: 'inside',
            formatter: function(params) {
              return params.value > 0 ? params.value + '%' : '';
            },
            color: '#000',
            fontWeight: 'bold'
          }
        },
        { 
          name: 'III类', 
          type: 'bar', 
          stack: 'total', 
          itemStyle: { color: '#FFFF00' }, 
          data: [38.3,50.0,35.7,27.3,27.6,0,0,68.8,28.6],
          label: {
            show: true,
            position: 'inside',
            formatter: function(params) {
              return params.value > 0 ? params.value + '%' : '';
            },
            color: '#000',
            fontWeight: 'bold'
          }
        },
        { 
          name: 'IV类', 
          type: 'bar', 
          stack: 'total', 
          itemStyle: { color: '#FF8C00' }, 
          data: [10.6,20.0,42.9,9.1,0,0,25.0,0,14.3],
          label: {
            show: true,
            position: 'inside',
            formatter: function(params) {
              return params.value > 0 ? params.value + '%' : '';
            },
            color: '#000',
            fontWeight: 'bold'
          }
        },
        { 
          name: 'V类', 
          type: 'bar', 
          stack: 'total', 
          itemStyle: { color: '#FF0000' }, 
          data: [12.8,0,7.1,0,0,0,25.0,0,57.1],
          label: {
            show: true,
            position: 'inside',
            formatter: function(params) {
              return params.value > 0 ? params.value + '%' : '';
            },
            color: '#000',
            fontWeight: 'bold'
          }
        },
        { 
          name: '劣V类', 
          type: 'bar', 
          stack: 'total', 
          itemStyle: { color: '#8B0000' }, 
          data: [4.3,0,0,9.1,0,0,25.0,0,0],
          label: {
            show: true,
            position: 'inside',
            formatter: function(params) {
              return params.value > 0 ? params.value + '%' : '';
            },
            color: '#000',
            fontWeight: 'bold'
          }
        }
      ]
    });
    // 2018年配置
    const chart2018 = echarts.init(document.getElementById('chart2018'));
   
    chart2018.setOption({
      title: {
        text: '2018年浙江省八大水系水质状况',
        left: 'center',
        textStyle: { fontSize: 18 }
      },
      tooltip: {
        trigger: 'axis',
        axisPointer: { type: 'shadow' },
        formatter: '{b}<br/>{a}: {c}%'
      },
      legend: {
        data: ['I类', 'II类', 'III类', 'IV类', 'V类', '劣V类'],
        bottom: 5
      },
      grid: { 
        top: 70, bottom: 80, left: 60, right: 30,
        containLabel: true 
      },
      xAxis: {
        type: 'category',
        data: ['钱塘江', '曹娥江', '甬江', '椒江', '瓯江', '飞云江', '鳌江', '苕溪', '京杭运河'],
        axisLabel: { interval: 0, rotate: 30 }
      },
      yAxis: {
        type: 'value',
        name: '比例(%)',
        max: 100,
        axisLabel: { formatter: '{value}%' }
      },
      series: [
        { 
          name: 'I类', 
          type: 'bar', 
          stack: 'total', 
          itemStyle: { color: '#006400' }, 
          data: [6.4,0,7.1,9.1,20.7,20.0,0,12.5,0],
          label: {
            show: true,
            position: 'inside',
            formatter: function(params) {
              return params.value > 0 ? params.value + '%' : '';
            },
            color: '#000',
            fontWeight: 'bold'
          }
        },
        { 
          name: 'II类', 
          type: 'bar', 
          stack: 'total', 
          itemStyle: { color: '#00FF00' }, 
          data: [59.6,70.0,28.6,27.3,75.9,60.0,25,43.8,0],
          label: {
            show: true,
            position: 'inside',
            formatter: function(params) {
              return params.value > 0 ? params.value + '%' : '';
            },
            color: '#000',
            fontWeight: 'bold'
          }
        },
        { 
          name: 'III类', 
          type: 'bar', 
          stack: 'total', 
          itemStyle: { color: '#FFFF00' }, 
          data: [31.9,30.0,57.1,54.5,3.4,20.0,50.0,43.8,42.9],
          label: {
            show: true,
            position: 'inside',
            formatter: function(params) {
              return params.value > 0 ? params.value + '%' : '';
            },
            color: '#000',
            fontWeight: 'bold'
          }
        },
        { 
          name: 'IV类', 
          type: 'bar', 
          stack: 'total', 
          itemStyle: { color: '#FF8C00' }, 
          data: [2.1,0,7.1,0,0,0,25.0,0,57.1],
          label: {
            show: true,
            position: 'inside',
            formatter: function(params) {
              return params.value > 0 ? params.value + '%' : '';
            },
            color: '#000',
            fontWeight: 'bold'
          }
        },
        { 
          name: 'V类', 
          type: 'bar', 
          stack: 'total', 
          itemStyle: { color: '#FF0000' }, 
          data: [0,0,0,9.1,0,0,0,0,0],
          label: {
            show: true,
            position: 'inside',
            formatter: function(params) {
              return params.value > 0 ? params.value + '%' : '';
            },
            color: '#000',
            fontWeight: 'bold'
          }
        },
        { 
          name: '劣V类', 
          type: 'bar', 
          stack: 'total', 
          itemStyle: { color: '#8B0000' }, 
          data: [0,0,0,0,0,0,0,0,0],
          label: {
            show: true,
            position: 'inside',
            formatter: function(params) {
              return params.value > 0 ? params.value + '%' : '';
            },
            color: '#000',
            fontWeight: 'bold'
          }
        }
      ]
    });
  </script>
</body>
</html>
